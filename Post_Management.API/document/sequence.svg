<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1859px" preserveAspectRatio="none" style="width:1481px;height:1859px;background:#FFFFFF;" version="1.1" viewBox="0 0 1481 1859" width="1481px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFE0" height="1847.5703" style="stroke:#181818;stroke-width:0.5;" width="251.5" x="26" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="114" x="94.75" y="18.0669">Client/Frontend</text><rect fill="#ADD8E6" height="1847.5703" style="stroke:#181818;stroke-width:0.5;" width="429.5" x="299.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="69" x="479.75" y="18.0669">API Layer</text><rect fill="#90EE90" height="1847.5703" style="stroke:#181818;stroke-width:0.5;" width="268" x="751" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="110" x="830" y="18.0669">Business Layer</text><rect fill="#FFC0CB" height="1847.5703" style="stroke:#181818;stroke-width:0.5;" width="417.5" x="1041" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="80" x="1209.75" y="18.0669">Data Layer</text><rect fill="#FFFFFF" height="468.125" style="stroke:#181818;stroke-width:1.0;" width="10" x="363" y="536.2891"/><rect fill="#FFFFFF" height="333.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="363" y="1107.8125"/><rect fill="#FFFFFF" height="205.9297" style="stroke:#181818;stroke-width:1.0;" width="10" x="814" y="711.0859"/><rect fill="#FFFFFF" height="570.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="814" y="1195.2109"/><rect fill="none" height="279.3281" style="stroke:#000000;stroke-width:1.5;" width="1329.5" x="20" y="161.5625"/><rect fill="none" height="514.3906" style="stroke:#000000;stroke-width:1.5;" width="1339.5" x="20" y="498.0234"/><rect fill="none" height="75.3984" style="stroke:#000000;stroke-width:1.5;" width="604.5" x="745" y="784.3516"/><rect fill="none" height="379.7266" style="stroke:#000000;stroke-width:1.5;" width="1444.5" x="20" y="1069.5469"/><rect fill="none" height="250.8672" style="stroke:#000000;stroke-width:1.5;" width="1054" x="10" y="1506.4063"/><rect fill="none" height="161.4688" style="stroke:#000000;stroke-width:1.5;" width="1034" x="20" y="1588.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="52" x2="52" y1="101.4297" y2="1774.2734"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="196.5" x2="196.5" y1="101.4297" y2="1774.2734"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="367.5" x2="367.5" y1="101.4297" y2="1774.2734"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="526" x2="526" y1="101.4297" y2="1774.2734"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="665" x2="665" y1="101.4297" y2="1774.2734"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="819" x2="819" y1="101.4297" y2="1774.2734"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="954" x2="954" y1="101.4297" y2="1774.2734"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1109" x2="1109" y1="101.4297" y2="1774.2734"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1295.5" x2="1295.5" y1="101.4297" y2="1774.2734"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1401.5" x2="1401.5" y1="101.4297" y2="1774.2734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="30" y="98.1279">Client</text><ellipse cx="52.5" cy="33.6328" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M52.5,41.6328 L52.5,68.6328 M39.5,49.6328 L65.5,49.6328 M52.5,68.6328 L39.5,83.6328 M52.5,68.6328 L65.5,83.6328 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="30" y="1786.2686">Client</text><ellipse cx="52.5" cy="1798.0703" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M52.5,1806.0703 L52.5,1833.0703 M39.5,1814.0703 L65.5,1814.0703 M52.5,1833.0703 L39.5,1848.0703 M52.5,1833.0703 L65.5,1848.0703 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114" x="139.5" y="70.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="146.5" y="90.1279">HTTP Request</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114" x="139.5" y="1773.2734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="146.5" y="1793.2686">HTTP Request</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="323.5" y="70.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="330.5" y="90.1279">Controllers</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="323.5" y="1773.2734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="330.5" y="1793.2686">Controllers</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="477" y="70.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="484" y="90.1279">AutoMapper</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="477" y="1773.2734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="484" y="1793.2686">AutoMapper</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="625" y="53.8359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="644" y="73.8311">Model</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="632" y="90.1279">Validation</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="625" y="1773.2734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="644" y="1793.2686">Model</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="632" y="1809.5654">Validation</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="775" y="70.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="782" y="90.1279">Repository</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="775" y="1773.2734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="782" y="1793.2686">Repository</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="913" y="53.8359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="920" y="73.8311">Exception</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="927.5" y="90.1279">Handler</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="913" y="1773.2734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="920" y="1793.2686">Exception</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="927.5" y="1809.5654">Handler</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="1065" y="70.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="1072" y="90.1279">DbContext</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="1065" y="1773.2734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="1072" y="1793.2686">DbContext</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="1252.5" y="98.1279">PostgreSQL</text><path d="M1278,49.1328 C1278,39.1328 1296,39.1328 1296,39.1328 C1296,39.1328 1314,39.1328 1314,49.1328 L1314,75.1328 C1314,85.1328 1296,85.1328 1296,85.1328 C1296,85.1328 1278,85.1328 1278,75.1328 L1278,49.1328 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1278,49.1328 C1278,59.1328 1296,59.1328 1296,59.1328 C1296,59.1328 1314,59.1328 1314,49.1328 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="1252.5" y="1786.2686">PostgreSQL</text><path d="M1278,1799.5703 C1278,1789.5703 1296,1789.5703 1296,1789.5703 C1296,1789.5703 1314,1789.5703 1314,1799.5703 L1314,1825.5703 C1314,1835.5703 1296,1835.5703 1296,1835.5703 C1296,1835.5703 1278,1835.5703 1278,1825.5703 L1278,1799.5703 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1278,1799.5703 C1278,1809.5703 1296,1809.5703 1296,1809.5703 C1296,1809.5703 1314,1809.5703 1314,1799.5703 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65" x="1369.5" y="53.8359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="23" x="1390.5" y="73.8311">File</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="1376.5" y="90.1279">System</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65" x="1369.5" y="1773.2734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="23" x="1390.5" y="1793.2686">File</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="1376.5" y="1809.5654">System</text><rect fill="#FFFFFF" height="468.125" style="stroke:#181818;stroke-width:1.0;" width="10" x="363" y="536.2891"/><rect fill="#FFFFFF" height="333.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="363" y="1107.8125"/><rect fill="#FFFFFF" height="205.9297" style="stroke:#181818;stroke-width:1.0;" width="10" x="814" y="711.0859"/><rect fill="#FFFFFF" height="570.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="814" y="1195.2109"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1474.5" x="0" y="131.9961"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1474.5" y1="131.9961" y2="131.9961"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1474.5" y1="134.9961" y2="134.9961"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="165" x="654.75" y="121.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="146" x="660.75" y="137.4966">Authentication Flow</text><path d="M20,161.5625 L203,161.5625 L203,168.6953 L193,178.6953 L20,178.6953 L20,161.5625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="279.3281" style="stroke:#000000;stroke-width:1.5;" width="1329.5" x="20" y="161.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="138" x="35" y="174.6294">JWT Authentication</text><polygon fill="#181818" points="184.5,195.8281,194.5,199.8281,184.5,203.8281,188.5,199.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="52.5" x2="190.5" y1="199.8281" y2="199.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="59.5" y="194.7622">Send credentials</text><polygon fill="#181818" points="356,224.9609,366,228.9609,356,232.9609,360,228.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="196.5" x2="362" y1="228.9609" y2="228.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="203.5" y="223.895">POST /api/auth</text><polygon fill="#181818" points="942,254.0938,952,258.0938,942,262.0938,946,258.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="368" x2="948" y1="258.0938" y2="258.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="375" y="253.0278">Try authenticate</text><polygon fill="#181818" points="830,283.2266,820,287.2266,830,291.2266,826,287.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="824" x2="953" y1="287.2266" y2="287.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="836" y="282.1606">Validate user</text><polygon fill="#181818" points="1097,312.3594,1107,316.3594,1097,320.3594,1101,316.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="819" x2="1103" y1="316.3594" y2="316.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="826" y="311.2935">Query user</text><polygon fill="#181818" points="1284,341.4922,1294,345.4922,1284,349.4922,1288,345.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1109" x2="1290" y1="345.4922" y2="345.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="1116" y="340.4263">SELECT user</text><polygon fill="#181818" points="1120,370.625,1110,374.625,1120,378.625,1116,374.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1114" x2="1295" y1="374.625" y2="374.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="1126" y="369.5591">User data</text><polygon fill="#181818" points="379,399.7578,369,403.7578,379,407.7578,375,403.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="373" x2="1108" y1="403.7578" y2="403.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="385" y="398.6919">Generate JWT</text><polygon fill="#181818" points="63.5,428.8906,53.5,432.8906,63.5,436.8906,59.5,432.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="57.5" x2="367" y1="432.8906" y2="432.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="69.5" y="427.8247">Return token</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1474.5" x="0" y="468.457"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1474.5" y1="468.457" y2="468.457"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1474.5" y1="471.457" y2="471.457"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="192" x="641.25" y="457.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="173" x="647.25" y="473.9575">Blog Post Management</text><path d="M20,498.0234 L190,498.0234 L190,505.1563 L180,515.1563 L20,515.1563 L20,498.0234 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="514.3906" style="stroke:#000000;stroke-width:1.5;" width="1339.5" x="20" y="498.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="125" x="35" y="511.0903">Create Blog Post</text><polygon fill="#181818" points="184.5,532.2891,194.5,536.2891,184.5,540.2891,188.5,536.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="52.5" x2="190.5" y1="536.2891" y2="536.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="59.5" y="531.2231">POST /api/blogpost</text><polygon fill="#181818" points="351,561.4219,361,565.4219,351,569.4219,355,565.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="196.5" x2="357" y1="565.4219" y2="565.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="203.5" y="560.356">Receive request</text><polygon fill="#181818" points="653,590.5547,663,594.5547,653,598.5547,657,594.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="373" x2="659" y1="594.5547" y2="594.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="380" y="589.4888">Validate DTO</text><polygon fill="#181818" points="384,619.6875,374,623.6875,384,627.6875,380,623.6875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="378" x2="664" y1="623.6875" y2="623.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="390" y="618.6216">Validation result</text><polygon fill="#181818" points="514,648.8203,524,652.8203,514,656.8203,518,652.8203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="373" x2="520" y1="652.8203" y2="652.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="380" y="647.7544">Map DTO to Domain</text><polygon fill="#181818" points="384,677.9531,374,681.9531,384,685.9531,380,681.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="378" x2="525" y1="681.9531" y2="681.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="390" y="676.8872">BlogPost entity</text><polygon fill="#181818" points="802,707.0859,812,711.0859,802,715.0859,806,711.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="373" x2="808" y1="711.0859" y2="711.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="380" y="706.02">CreateBlogPost()</text><polygon fill="#181818" points="1097,736.2188,1107,740.2188,1097,744.2188,1101,740.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="824" x2="1103" y1="740.2188" y2="740.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="831" y="735.1528">Begin transaction</text><polygon fill="#181818" points="1284,765.3516,1294,769.3516,1284,773.3516,1288,769.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1109" x2="1290" y1="769.3516" y2="769.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="1116" y="764.2856">INSERT BlogPost</text><path d="M745,784.3516 L809,784.3516 L809,791.4844 L799,801.4844 L745,801.4844 L745,784.3516 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="75.3984" style="stroke:#000000;stroke-width:1.5;" width="604.5" x="745" y="784.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="760" y="797.4185">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="108" x="824" y="796.562">[Has Categories]</text><polygon fill="#181818" points="1097,818.6172,1107,822.6172,1097,826.6172,1101,822.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="824" x2="1103" y1="822.6172" y2="822.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="831" y="817.5513">Link categories</text><polygon fill="#181818" points="1284,847.75,1294,851.75,1284,855.75,1288,851.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1109" x2="1290" y1="851.75" y2="851.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="1116" y="846.6841">INSERT BlogPostCategory</text><polygon fill="#181818" points="1120,883.8828,1110,887.8828,1120,891.8828,1116,887.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1114" x2="1295" y1="887.8828" y2="887.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="1126" y="882.8169">Success</text><polygon fill="#181818" points="830,913.0156,820,917.0156,830,921.0156,826,917.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="824" x2="1108" y1="917.0156" y2="917.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="836" y="911.9497">Commit</text><polygon fill="#181818" points="384,942.1484,374,946.1484,384,950.1484,380,946.1484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="378" x2="818" y1="946.1484" y2="946.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="390" y="941.0825">Created entity</text><polygon fill="#181818" points="514,971.2813,524,975.2813,514,979.2813,518,975.2813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="373" x2="520" y1="975.2813" y2="975.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="380" y="970.2153">Map to Response</text><polygon fill="#181818" points="63.5,1000.4141,53.5,1004.4141,63.5,1008.4141,59.5,1004.4141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="57.5" x2="367" y1="1004.4141" y2="1004.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="69.5" y="999.3481">201 Created</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1474.5" x="0" y="1039.9805"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1474.5" y1="1039.9805" y2="1039.9805"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1474.5" y1="1042.9805" y2="1042.9805"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="167" x="653.75" y="1029.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="148" x="659.75" y="1045.481">Image Management</text><path d="M20,1069.5469 L168,1069.5469 L168,1076.6797 L158,1086.6797 L20,1086.6797 L20,1069.5469 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="379.7266" style="stroke:#000000;stroke-width:1.5;" width="1444.5" x="20" y="1069.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="103" x="35" y="1082.6138">Upload Image</text><polygon fill="#181818" points="184.5,1103.8125,194.5,1107.8125,184.5,1111.8125,188.5,1107.8125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="52.5" x2="190.5" y1="1107.8125" y2="1107.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="59.5" y="1102.7466">POST /api/image</text><polygon fill="#181818" points="351,1132.9453,361,1136.9453,351,1140.9453,355,1136.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="196.5" x2="357" y1="1136.9453" y2="1136.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="203.5" y="1131.8794">Multipart form</text><polygon fill="#181818" points="653,1162.0781,663,1166.0781,653,1170.0781,657,1166.0781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="373" x2="659" y1="1166.0781" y2="1166.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="380" y="1161.0122">ValidateFile</text><polygon fill="#181818" points="802,1191.2109,812,1195.2109,802,1199.2109,806,1195.2109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="373" x2="808" y1="1195.2109" y2="1195.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="380" y="1190.145">AddImageAsync()</text><polygon fill="#181818" points="1390,1220.3438,1400,1224.3438,1390,1228.3438,1394,1224.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="824" x2="1396" y1="1224.3438" y2="1224.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="831" y="1219.2778">Save physical file</text><polygon fill="#181818" points="1097,1249.4766,1107,1253.4766,1097,1257.4766,1101,1253.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="824" x2="1103" y1="1253.4766" y2="1253.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="831" y="1248.4106">Save metadata</text><polygon fill="#181818" points="1284,1278.6094,1294,1282.6094,1284,1286.6094,1288,1282.6094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1109" x2="1290" y1="1282.6094" y2="1282.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="1116" y="1277.5435">INSERT BlogImage</text><polygon fill="#181818" points="835,1307.7422,825,1311.7422,835,1315.7422,831,1311.7422" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="829" x2="1295" y1="1311.7422" y2="1311.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="841" y="1306.6763">Image ID</text><line style="stroke:#181818;stroke-width:1.0;" x1="824" x2="866" y1="1340.875" y2="1340.875"/><line style="stroke:#181818;stroke-width:1.0;" x1="866" x2="866" y1="1340.875" y2="1353.875"/><line style="stroke:#181818;stroke-width:1.0;" x1="825" x2="866" y1="1353.875" y2="1353.875"/><polygon fill="#181818" points="835,1349.875,825,1353.875,835,1357.875,831,1353.875" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="831" y="1335.8091">Generate URL</text><polygon fill="#181818" points="384,1379.0078,374,1383.0078,384,1387.0078,380,1383.0078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="378" x2="813" y1="1383.0078" y2="1383.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="390" y="1377.9419">Image details</text><polygon fill="#181818" points="514,1408.1406,524,1412.1406,514,1416.1406,518,1412.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="373" x2="520" y1="1412.1406" y2="1412.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="380" y="1407.0747">Map to Response</text><polygon fill="#181818" points="63.5,1437.2734,53.5,1441.2734,63.5,1445.2734,59.5,1441.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="57.5" x2="367" y1="1441.2734" y2="1441.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="69.5" y="1436.2075">Image URL</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1474.5" x="0" y="1476.8398"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1474.5" y1="1476.8398" y2="1476.8398"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1474.5" y1="1479.8398" y2="1479.8398"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="126" x="674.25" y="1466.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="107" x="680.25" y="1482.3403">Error Handling</text><path d="M10,1506.4063 L250,1506.4063 L250,1513.5391 L240,1523.5391 L10,1523.5391 L10,1506.4063 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="250.8672" style="stroke:#000000;stroke-width:1.5;" width="1054" x="10" y="1506.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="195" x="25" y="1519.4731">Global Exception Handling</text><polygon fill="#181818" points="184.5,1540.6719,194.5,1544.6719,184.5,1548.6719,188.5,1544.6719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="52.5" x2="190.5" y1="1544.6719" y2="1544.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="59.5" y="1539.606">Any request</text><polygon fill="#181818" points="942,1569.8047,952,1573.8047,942,1577.8047,946,1573.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="196.5" x2="948" y1="1573.8047" y2="1573.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="203.5" y="1568.7388">Process request</text><path d="M20,1588.8047 L84,1588.8047 L84,1595.9375 L74,1605.9375 L20,1605.9375 L20,1588.8047 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="161.4688" style="stroke:#000000;stroke-width:1.5;" width="1034" x="20" y="1588.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="35" y="1601.8716">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="62" x="99" y="1601.0151">[Success]</text><polygon fill="#181818" points="379,1623.0703,369,1627.0703,379,1631.0703,375,1627.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="373" x2="953" y1="1627.0703" y2="1627.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="385" y="1622.0044">Handle request</text><polygon fill="#181818" points="63.5,1652.2031,53.5,1656.2031,63.5,1660.2031,59.5,1656.2031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="57.5" x2="367" y1="1656.2031" y2="1656.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="69.5" y="1651.1372">Success response</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="1054" y1="1665.2031" y2="1665.2031"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="73" x="25" y="1675.4136">[Exception]</text><line style="stroke:#181818;stroke-width:1.0;" x1="954" x2="996" y1="1700.1406" y2="1700.1406"/><line style="stroke:#181818;stroke-width:1.0;" x1="996" x2="996" y1="1700.1406" y2="1713.1406"/><line style="stroke:#181818;stroke-width:1.0;" x1="955" x2="996" y1="1713.1406" y2="1713.1406"/><polygon fill="#181818" points="965,1709.1406,955,1713.1406,965,1717.1406,961,1713.1406" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="961" y="1695.0747">Format error</text><polygon fill="#181818" points="63.5,1738.2734,53.5,1742.2734,63.5,1746.2734,59.5,1742.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="57.5" x2="953" y1="1742.2734" y2="1742.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="69.5" y="1737.2075">Error response</text><!--MD5=[2a51c1219ddef289f85cddd583ceed69]
@startuml
skinparam ParticipantPadding 20
skinparam BoxPadding 10

box "Client/Frontend" #LightYellow
    actor Client
    participant "HTTP Request" as HTTP
end box

box "API Layer" #LightBlue
    participant "Controllers" as Controller
    participant "AutoMapper" as Mapper
    participant "Model\nValidation" as Validator
end box

box "Business Layer" #LightGreen
    participant "Repository" as Repo
    participant "Exception\nHandler" as ExHandler
end box

box "Data Layer" #Pink
    participant "DbContext" as DB
    database "PostgreSQL" as PG
    participant "File\nSystem" as FS
end box

== Authentication Flow ==
group JWT Authentication
    Client -> HTTP: Send credentials
    HTTP -> Controller: POST /api/auth
    Controller -> ExHandler: Try authenticate
    ExHandler -> Repo: Validate user
    Repo -> DB: Query user
    DB -> PG: SELECT user
    PG - -> DB: User data
    DB - -> Controller: Generate JWT
    Controller - -> Client: Return token
end

== Blog Post Management ==
group Create Blog Post
    Client -> HTTP: POST /api/blogpost
    activate Controller
    HTTP -> Controller: Receive request
    Controller -> Validator: Validate DTO
    Validator - -> Controller: Validation result
    
    Controller -> Mapper: Map DTO to Domain
    Mapper - -> Controller: BlogPost entity
    
    Controller -> Repo: CreateBlogPost()
    activate Repo
    Repo -> DB: Begin transaction
    DB -> PG: INSERT BlogPost
    
    alt Has Categories
        Repo -> DB: Link categories
        DB -> PG: INSERT BlogPostCategory
    end
    
    PG - -> DB: Success
    DB -> Repo: Commit
    deactivate Repo
    
    Repo - -> Controller: Created entity
    Controller -> Mapper: Map to Response
    Controller - -> Client: 201 Created
    deactivate Controller
end

== Image Management ==
group Upload Image
    Client -> HTTP: POST /api/image
    activate Controller
    HTTP -> Controller: Multipart form
    Controller -> Validator: ValidateFile
    
    Controller -> Repo: AddImageAsync()
    activate Repo
    Repo -> FS: Save physical file
    Repo -> DB: Save metadata
    DB -> PG: INSERT BlogImage
    PG - -> Repo: Image ID
    
    Repo -> Repo: Generate URL
    Repo - -> Controller: Image details
    Controller -> Mapper: Map to Response
    Controller - -> Client: Image URL
    deactivate Controller
end

== Error Handling ==
group Global Exception Handling
    Client -> HTTP: Any request
    HTTP -> ExHandler: Process request
    
    alt Success
        ExHandler -> Controller: Handle request
        Controller - -> Client: Success response
    else Exception
        ExHandler -> ExHandler: Format error
        ExHandler - -> Client: Error response
    end
end
@enduml

PlantUML version 1.2022.7(Mon Aug 22 17:01:30 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>